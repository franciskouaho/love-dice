#!/usr/bin/env ts-node

/**
 * Script de migration vers Firebase
 * Ce script initialise Firebase et migre les donnÃ©es par dÃ©faut vers Firestore
 */

import { FirebaseApp, initializeApp } from "firebase/app";
import { Auth, getAuth, signInAnonymously } from "firebase/auth";
import {
  Firestore,
  collection,
  doc,
  getFirestore,
  serverTimestamp,
  setDoc,
  writeBatch,
} from "firebase/firestore";

// Types
interface DiceFace {
  label: string;
  category: "payer" | "repas" | "activite";
  emoji: string;
  weight: number;
  actions?: string[];
  isDefault: boolean;
  isActive: boolean;
}

interface ConfigDefaults {
  FREE_ROLLS_PER_DAY: number;
  LIFETIME_PRICE: string;
  PAYWALL_TITLE: string;
  PAYWALL_BULLETS: string;
  FEATURE_FLAGS: {
    customFaces: boolean;
    history: boolean;
    analytics: boolean;
    sharing: boolean;
  };
}

interface FirebaseContext {
  app: FirebaseApp;
  db: Firestore;
  auth: Auth;
}

// Configuration Firebase
const firebaseConfig = {
  apiKey: "AIzaSyAXrDxGHxOgHcFxRfHEL2Qi82KpE29CJMY",
  authDomain: "love-dice-7a878.firebaseapp.com",
  projectId: "love-dice-7a878",
  storageBucket: "love-dice-7a878.firebasestorage.app",
  messagingSenderId: "916106041141",
  appId: "1:916106041141:web:a41b259be98ae885cd9e7c",
  measurementId: "G-7Z5GB9RCT5",
};

const DEFAULT_FACES: DiceFace[] = [
  // ==================== CATÃ‰GORIE PAYER (100 faces) ====================
  // Basiques
  {
    label: "Tu paies",
    category: "payer",
    emoji: "ğŸ·",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Je paie",
    category: "payer",
    emoji: "ğŸ’³",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "50/50",
    category: "payer",
    emoji: "ğŸ§¾",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pile ou Face",
    category: "payer",
    emoji: "ğŸª™",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pierre-Papier-Ciseaux",
    category: "payer",
    emoji: "âœ‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus jeune paie",
    category: "payer",
    emoji: "ğŸ‘¶",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus Ã¢gÃ© paie",
    category: "payer",
    emoji: "ğŸ‘´",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a eu l'idÃ©e paie",
    category: "payer",
    emoji: "ğŸ’¡",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus grand paie",
    category: "payer",
    emoji: "ğŸ“",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus petit paie",
    category: "payer",
    emoji: "ğŸ¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui rit en premier paie",
    category: "payer",
    emoji: "ğŸ˜‚",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus de cash",
    category: "payer",
    emoji: "ğŸ’°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Tirage au dÃ© (1-3 vs 4-6)",
    category: "payer",
    emoji: "ğŸ²",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bataille de pouces",
    category: "payer",
    emoji: "ğŸ‘",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Premier Ã  dire 'banane'",
    category: "payer",
    emoji: "ğŸŒ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Dernier arrivÃ© paie",
    category: "payer",
    emoji: "ğŸƒâ€â™‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a parlÃ© en dernier",
    category: "payer",
    emoji: "ğŸ¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui porte du rouge",
    category: "payer",
    emoji: "ğŸ”´",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui porte du bleu",
    category: "payer",
    emoji: "ğŸ”µ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus de 'likes' Instagram",
    category: "payer",
    emoji: "â¤ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui nÃ© en premier dans l'annÃ©e",
    category: "payer",
    emoji: "ğŸ‚",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui nÃ© le plus tard",
    category: "payer",
    emoji: "ğŸ°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Si l'heure est paire, tu paies",
    category: "payer",
    emoji: "â°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui s'est levÃ© en premier",
    category: "payer",
    emoji: "ğŸŒ…",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui s'est couchÃ© le plus tard",
    category: "payer",
    emoji: "ğŸŒ™",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Paiement Carte Bleue",
    category: "payer",
    emoji: "ğŸ’³",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Paiement Cash uniquement",
    category: "payer",
    emoji: "ğŸ’µ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Paiement mobile",
    category: "payer",
    emoji: "ğŸ“±",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Venmo/PayPal",
    category: "payer",
    emoji: "ğŸ’¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "ChÃ¨ques restaurant",
    category: "payer",
    emoji: "ğŸ«",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "70/30 en ta faveur",
    category: "payer",
    emoji: "ğŸ“Š",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "30/70 en ma faveur",
    category: "payer",
    emoji: "ğŸ“ˆ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Chacun paie ce qu'il commande",
    category: "payer",
    emoji: "ğŸ§®",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pourboire x2 pour le perdant",
    category: "payer",
    emoji: "ğŸ’°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Addition + dessert gratuit",
    category: "payer",
    emoji: "ğŸ°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bras de fer dÃ©cide",
    category: "payer",
    emoji: "ğŸ’ª",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Quiz culture gÃ©nÃ©rale",
    category: "payer",
    emoji: "ğŸ§ ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui tient le plus longtemps sur un pied",
    category: "payer",
    emoji: "ğŸ¦¶",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pierre-feuille-ciseaux-lÃ©zard-Spock",
    category: "payer",
    emoji: "ğŸ––",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bataille de regards",
    category: "payer",
    emoji: "ğŸ‘ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Chi-fou-mi version corÃ©enne",
    category: "payer",
    emoji: "ğŸ¥¢",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui Ã©ternue en premier",
    category: "payer",
    emoji: "ğŸ¤§",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus d'applications",
    category: "payer",
    emoji: "ğŸ“±",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le moins de batterie",
    category: "payer",
    emoji: "ğŸ”‹",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui connaÃ®t le plus de mots de passe",
    category: "payer",
    emoji: "ğŸ”",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Le plus de notifications non lues",
    category: "payer",
    emoji: "ğŸ””",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a bu le plus d'eau aujourd'hui",
    category: "payer",
    emoji: "ğŸ’§",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a fait le plus de pas",
    category: "payer",
    emoji: "ğŸ‘£",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a pris le plus de photos",
    category: "payer",
    emoji: "ğŸ“¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a envoyÃ© le plus de messages",
    category: "payer",
    emoji: "ğŸ’¬",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a Ã©coutÃ© le plus de musique",
    category: "payer",
    emoji: "ğŸµ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a regardÃ© le plus de vidÃ©os",
    category: "payer",
    emoji: "ğŸ¬",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui utilise le plus les rÃ©seaux sociaux",
    category: "payer",
    emoji: "ğŸ“²",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus d'amis Facebook",
    category: "payer",
    emoji: "ğŸ‘¥",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus de followers Instagram",
    category: "payer",
    emoji: "ğŸ“·",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus de matches Tinder",
    category: "payer",
    emoji: "ğŸ’•",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui connaÃ®t le plus de langues",
    category: "payer",
    emoji: "ğŸŒ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a visitÃ© le plus de pays",
    category: "payer",
    emoji: "âœˆï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus de tatouages",
    category: "payer",
    emoji: "ğŸ¨",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus de piercings",
    category: "payer",
    emoji: "ğŸ’",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a les cheveux les plus longs",
    category: "payer",
    emoji: "ğŸ’‡â€â™€ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a les cheveux les plus courts",
    category: "payer",
    emoji: "ğŸ’‡â€â™‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui porte le plus de bijoux",
    category: "payer",
    emoji: "ğŸ’",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a les plus grands pieds",
    category: "payer",
    emoji: "ğŸ‘Ÿ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a les plus petites mains",
    category: "payer",
    emoji: "ğŸ¤²",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a les yeux les plus clairs",
    category: "payer",
    emoji: "ğŸ‘€",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui sourit le plus souvent",
    category: "payer",
    emoji: "ğŸ˜Š",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui cligne des yeux en premier",
    category: "payer",
    emoji: "ğŸ˜‰",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a la voix la plus grave",
    category: "payer",
    emoji: "ğŸ¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a la voix la plus aiguÃ«",
    category: "payer",
    emoji: "ğŸµ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui parle le plus fort",
    category: "payer",
    emoji: "ğŸ“¢",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui murmure le mieux",
    category: "payer",
    emoji: "ğŸ¤«",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui imite le mieux les animaux",
    category: "payer",
    emoji: "ğŸ¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui fait le meilleur accent",
    category: "payer",
    emoji: "ğŸ—£ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui raconte la meilleure blague",
    category: "payer",
    emoji: "ğŸ¤¡",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui danse le mieux",
    category: "payer",
    emoji: "ğŸ’ƒ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui chante le mieux",
    category: "payer",
    emoji: "ğŸ¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui dessine le mieux",
    category: "payer",
    emoji: "ğŸ¨",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui cuisine le mieux",
    category: "payer",
    emoji: "ğŸ‘¨â€ğŸ³",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui conduit le mieux",
    category: "payer",
    emoji: "ğŸš—",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui nage le mieux",
    category: "payer",
    emoji: "ğŸŠâ€â™‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui court le plus vite",
    category: "payer",
    emoji: "ğŸƒâ€â™‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui saute le plus haut",
    category: "payer",
    emoji: "ğŸ¦˜",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui fait le plus de pompes",
    category: "payer",
    emoji: "ğŸ’ª",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui tient le plus longtemps en planche",
    category: "payer",
    emoji: "ğŸ§˜â€â™‚ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui est le plus flexible",
    category: "payer",
    emoji: "ğŸ¤¸â€â™€ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a la meilleure mÃ©moire",
    category: "payer",
    emoji: "ğŸ§ ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui rÃ©sout le plus vite un Rubik's cube",
    category: "payer",
    emoji: "ğŸ§©",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui compte le plus vite jusqu'Ã  100",
    category: "payer",
    emoji: "ğŸ”¢",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui dit l'alphabet Ã  l'envers le plus vite",
    category: "payer",
    emoji: "ğŸ”¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui se souvient de plus de numÃ©ros de tÃ©lÃ©phone",
    category: "payer",
    emoji: "â˜ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui connaÃ®t le plus de capitales",
    category: "payer",
    emoji: "ğŸŒ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui nomme le plus d'animaux en 30 secondes",
    category: "payer",
    emoji: "ğŸ¦",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui rÃ©cite le plus de paroles de chanson",
    category: "payer",
    emoji: "ğŸ¶",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui connaÃ®t le plus de films",
    category: "payer",
    emoji: "ğŸ¬",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a lu le plus de livres",
    category: "payer",
    emoji: "ğŸ“š",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui connaÃ®t le plus de recettes",
    category: "payer",
    emoji: "ğŸ“",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus voyagÃ©",
    category: "payer",
    emoji: "ğŸ§³",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui parle le plus de langues",
    category: "payer",
    emoji: "ğŸ—£ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a le plus d'hobbies",
    category: "payer",
    emoji: "ğŸ­",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui collectionne le plus de choses",
    category: "payer",
    emoji: "ğŸ†",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Celui qui a gagnÃ© le plus de concours",
    category: "payer",
    emoji: "ğŸ¥‡",
    weight: 1,
    isDefault: true,
    isActive: true,
  },

  // ==================== CATÃ‰GORIE REPAS (100 faces) ====================
  {
    label: "Restaurant",
    category: "repas",
    emoji: "ğŸ½ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Livraison",
    category: "repas",
    emoji: "ğŸ•",
    weight: 1,
    actions: ["delivery"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Street food",
    category: "repas",
    emoji: "ğŸŒ®",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Fait maison",
    category: "repas",
    emoji: "ğŸ",
    weight: 1,
    actions: ["recipe"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Surprise de l'autre",
    category: "repas",
    emoji: "ğŸ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Sushi",
    category: "repas",
    emoji: "ğŸ£",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Burger gourmet",
    category: "repas",
    emoji: "ğŸ”",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine italienne",
    category: "repas",
    emoji: "ğŸ‡®ğŸ‡¹",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine franÃ§aise",
    category: "repas",
    emoji: "ğŸ‡«ğŸ‡·",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine asiatique",
    category: "repas",
    emoji: "ğŸ¥¢",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine mexicaine",
    category: "repas",
    emoji: "ğŸŒ¶ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine indienne",
    category: "repas",
    emoji: "ğŸ›",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine libanaise",
    category: "repas",
    emoji: "ğŸ¥™",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine grecque",
    category: "repas",
    emoji: "ğŸ‡¬ğŸ‡·",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine espagnole",
    category: "repas",
    emoji: "ğŸ¥˜",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine thaÃ¯landaise",
    category: "repas",
    emoji: "ğŸœ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine corÃ©enne",
    category: "repas",
    emoji: "ğŸ¥Ÿ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine chinoise",
    category: "repas",
    emoji: "ğŸ¥ ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine vietnamienne",
    category: "repas",
    emoji: "ğŸ²",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine amÃ©ricaine",
    category: "repas",
    emoji: "ğŸ‡ºğŸ‡¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Food truck",
    category: "repas",
    emoji: "ğŸšš",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "PÃ¢tisserie",
    category: "repas",
    emoji: "ğŸ§",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "MarchÃ© local",
    category: "repas",
    emoji: "ğŸ¥•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "CafÃ© cosy",
    category: "repas",
    emoji: "â˜•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Brunch",
    category: "repas",
    emoji: "ğŸ¥",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Petit-dÃ©jeuner tardif",
    category: "repas",
    emoji: "ğŸ¥",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©jeuner d'affaires",
    category: "repas",
    emoji: "ğŸ’¼",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ®ner romantique",
    category: "repas",
    emoji: "ğŸ’•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "ApÃ©ritif dinatoire",
    category: "repas",
    emoji: "ğŸ·",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Barbecue",
    category: "repas",
    emoji: "ğŸ”¥",
    weight: 1,
    actions: ["weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pique-nique",
    category: "repas",
    emoji: "ğŸ§º",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant Ã©toilÃ©",
    category: "repas",
    emoji: "â­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bistrot de quartier",
    category: "repas",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Brasserie",
    category: "repas",
    emoji: "ğŸº",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Wine bar",
    category: "repas",
    emoji: "ğŸ¾",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bar Ã  tapas",
    category: "repas",
    emoji: "ğŸ¤",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Rooftop restaurant",
    category: "repas",
    emoji: "ğŸ™ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant avec vue",
    category: "repas",
    emoji: "ğŸŒ…",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant en bord de mer",
    category: "repas",
    emoji: "ğŸŒŠ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Auberge de campagne",
    category: "repas",
    emoji: "ğŸï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant de montagne",
    category: "repas",
    emoji: "â›°ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine fusion",
    category: "repas",
    emoji: "ğŸŒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine vÃ©gÃ©tarienne",
    category: "repas",
    emoji: "ğŸ¥—",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine vÃ©gane",
    category: "repas",
    emoji: "ğŸŒ±",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant bio",
    category: "repas",
    emoji: "ğŸŒ¿",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine sans gluten",
    category: "repas",
    emoji: "ğŸŒ¾",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine halal",
    category: "repas",
    emoji: "ğŸ•Œ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine kasher",
    category: "repas",
    emoji: "âœ¡ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Buffet Ã  volontÃ©",
    category: "repas",
    emoji: "ğŸ´",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Menu dÃ©gustation",
    category: "repas",
    emoji: "ğŸ‘¨â€ğŸ³",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine molÃ©culaire",
    category: "repas",
    emoji: "âš—ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Street art culinaire",
    category: "repas",
    emoji: "ğŸ¨",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant thÃ©matique",
    category: "repas",
    emoji: "ğŸ­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ®ner-spectacle",
    category: "repas",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant de poissons",
    category: "repas",
    emoji: "ğŸŸ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Steakhouse",
    category: "repas",
    emoji: "ğŸ¥©",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pizzeria artisanale",
    category: "repas",
    emoji: "ğŸ•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "CrÃªperie",
    category: "repas",
    emoji: "ğŸ¥",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Boulangerie-pÃ¢tisserie",
    category: "repas",
    emoji: "ğŸ¥–",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Glacier artisanal",
    category: "repas",
    emoji: "ğŸ¦",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Chocolaterie",
    category: "repas",
    emoji: "ğŸ«",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Salon de thÃ©",
    category: "repas",
    emoji: "ğŸµ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Coffee shop",
    category: "repas",
    emoji: "â˜•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "BrÃ»lerie de cafÃ©",
    category: "repas",
    emoji: "â˜•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bar Ã  jus",
    category: "repas",
    emoji: "ğŸ¥¤",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Smoothie bar",
    category: "repas",
    emoji: "ğŸ¹",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bubble tea",
    category: "repas",
    emoji: "ğŸ§‹",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant tournant",
    category: "repas",
    emoji: "ğŸ¡",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans le noir",
    category: "repas",
    emoji: "ğŸ•¯ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant sur l'eau",
    category: "repas",
    emoji: "â›µ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans un train",
    category: "repas",
    emoji: "ğŸš‚",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans un chÃ¢teau",
    category: "repas",
    emoji: "ğŸ°",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans une grotte",
    category: "repas",
    emoji: "ğŸ•³ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans un arbre",
    category: "repas",
    emoji: "ğŸŒ³",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant sous-marin",
    category: "repas",
    emoji: "ğŸ ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant dans les nuages",
    category: "repas",
    emoji: "â˜ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pop-up restaurant",
    category: "repas",
    emoji: "â°",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Restaurant Ã©phÃ©mÃ¨re",
    category: "repas",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine de rue internationale",
    category: "repas",
    emoji: "ğŸŒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "MarchÃ© de nuit",
    category: "repas",
    emoji: "ğŸŒƒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Festival gastronomique",
    category: "repas",
    emoji: "ğŸ‰",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cours de cuisine",
    category: "repas",
    emoji: "ğŸ‘¨â€ğŸ³",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Atelier pÃ¢tisserie",
    category: "repas",
    emoji: "ğŸ§",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©gustation de vins",
    category: "repas",
    emoji: "ğŸ·",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©gustation de fromages",
    category: "repas",
    emoji: "ğŸ§€",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©gustation de chocolats",
    category: "repas",
    emoji: "ğŸ«",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©gustation d'huÃ®tres",
    category: "repas",
    emoji: "ğŸ¦ª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©gustation de caviar",
    category: "repas",
    emoji: "ğŸ¥„",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Brunch du dimanche",
    category: "repas",
    emoji: "â˜€ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Petit-dÃ©jeuner au lit",
    category: "repas",
    emoji: "ğŸ›ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ®ner aux chandelles",
    category: "repas",
    emoji: "ğŸ•¯ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Repas sur la terrasse",
    category: "repas",
    emoji: "ğŸŒ¿",
    weight: 1,
    actions: ["weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pique-nique au coucher du soleil",
    category: "repas",
    emoji: "ğŸŒ…",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Repas de minuit",
    category: "repas",
    emoji: "ğŸŒ™",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Petit-dÃ©jeuner de champion",
    category: "repas",
    emoji: "ğŸ†",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "DÃ©jeuner sur l'herbe",
    category: "repas",
    emoji: "ğŸŒ±",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "GoÃ»ter d'enfance",
    category: "repas",
    emoji: "ğŸ§’",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Repas nostalgique",
    category: "repas",
    emoji: "ğŸ’­",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine de grand-mÃ¨re",
    category: "repas",
    emoji: "ğŸ‘µ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Plat rÃ©confortant",
    category: "repas",
    emoji: "ğŸ¤—",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cuisine du monde entier en une soirÃ©e",
    category: "repas",
    emoji: "ğŸŒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },

  // ==================== CATÃ‰GORIE ACTIVITÃ‰ (100 faces) ====================
  {
    label: "CinÃ©ma maison",
    category: "activite",
    emoji: "ğŸ¬",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Jeu de sociÃ©tÃ©",
    category: "activite",
    emoji: "ğŸ²",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Balade nocturne",
    category: "activite",
    emoji: "ğŸŒ™",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Tenue chic",
    category: "activite",
    emoji: "ğŸ‘”",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Budget max 30â‚¬",
    category: "activite",
    emoji: "ğŸ’¶",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Dessert obligatoire",
    category: "activite",
    emoji: "ğŸ°",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "Pas d'Ã©cran",
    category: "activite",
    emoji: "ğŸ“µ",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "KaraokÃ©",
    category: "activite",
    emoji: "ğŸ¤",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "MusÃ©e",
    category: "activite",
    emoji: "ğŸ–¼ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bowling",
    category: "activite",
    emoji: "ğŸ³",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Mini-golf",
    category: "activite",
    emoji: "â›³",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Parc d'attractions",
    category: "activite",
    emoji: "ğŸ¢",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Zoo/Aquarium",
    category: "activite",
    emoji: "ğŸ§",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "RandonnÃ©e",
    category: "activite",
    emoji: "ğŸ¥¾",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "ThÃ©Ã¢tre",
    category: "activite",
    emoji: "ğŸ­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Galerie d'art",
    category: "activite",
    emoji: "ğŸ–¼ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Concert live",
    category: "activite",
    emoji: "ğŸ¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Arcade",
    category: "activite",
    emoji: "ğŸ•¹ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Plage/Lac",
    category: "activite",
    emoji: "ğŸ–ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Spa/Massage",
    category: "activite",
    emoji: "ğŸ’†â€â™€ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cours de danse",
    category: "activite",
    emoji: "ğŸ’ƒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Match sportif",
    category: "activite",
    emoji: "âš½",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Shopping",
    category: "activite",
    emoji: "ğŸ›ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "BibliothÃ¨que",
    category: "activite",
    emoji: "ğŸ“š",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "MarchÃ© aux puces",
    category: "activite",
    emoji: "ğŸº",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Escape room",
    category: "activite",
    emoji: "ğŸ”",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Laser tag",
    category: "activite",
    emoji: "ğŸ”«",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Paintball",
    category: "activite",
    emoji: "ğŸ¨",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Accrobranche",
    category: "activite",
    emoji: "ğŸŒ³",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Piscine",
    category: "activite",
    emoji: "ğŸŠâ€â™‚ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Patinoire",
    category: "activite",
    emoji: "â›¸ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Ski/Snowboard",
    category: "activite",
    emoji: "â›·ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "VTT",
    category: "activite",
    emoji: "ğŸšµâ€â™‚ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Course Ã  pied",
    category: "activite",
    emoji: "ğŸƒâ€â™€ï¸",
    weight: 1,
    actions: ["weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Yoga en extÃ©rieur",
    category: "activite",
    emoji: "ğŸ§˜â€â™€ï¸",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "MÃ©ditation",
    category: "activite",
    emoji: "ğŸ•‰ï¸",
    weight: 1,
    isDefault: true,
    isActive: true,
  },
  {
    label: "SÃ©ance photo",
    category: "activite",
    emoji: "ğŸ“¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Chasse aux trÃ©sors",
    category: "activite",
    emoji: "ğŸ—ºï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Geocaching",
    category: "activite",
    emoji: "ğŸ“",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Observation des Ã©toiles",
    category: "activite",
    emoji: "ğŸŒŸ",
    weight: 1,
    actions: ["weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Coucher de soleil",
    category: "activite",
    emoji: "ğŸŒ…",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Lever de soleil",
    category: "activite",
    emoji: "ğŸŒ„",
    weight: 1,
    actions: ["weather", "maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Festival de musique",
    category: "activite",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Foire",
    category: "activite",
    emoji: "ğŸ¡",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "MarchÃ© de NoÃ«l",
    category: "activite",
    emoji: "ğŸ„",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Feu de camp",
    category: "activite",
    emoji: "ğŸ”¥",
    weight: 1,
    actions: ["weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "PlanÃ©tarium",
    category: "activite",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Aquarium",
    category: "activite",
    emoji: "ğŸ ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Jardin botanique",
    category: "activite",
    emoji: "ğŸŒ¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Parc naturel",
    category: "activite",
    emoji: "ğŸƒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Ferme pÃ©dagogique",
    category: "activite",
    emoji: "ğŸ„",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Visite de chÃ¢teau",
    category: "activite",
    emoji: "ğŸ°",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "CathÃ©drale/Ã‰glise",
    category: "activite",
    emoji: "â›ª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Site archÃ©ologique",
    category: "activite",
    emoji: "ğŸ›ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Monument historique",
    category: "activite",
    emoji: "ğŸ—¿",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Tour guidÃ©e",
    category: "activite",
    emoji: "ğŸ¯",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Visite en bus touristique",
    category: "activite",
    emoji: "ğŸšŒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "CroisiÃ¨re",
    category: "activite",
    emoji: "ğŸ›³ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Balade en bateau",
    category: "activite",
    emoji: "â›µ",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Kayak",
    category: "activite",
    emoji: "ğŸ›¶",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Stand up paddle",
    category: "activite",
    emoji: "ğŸ„â€â™‚ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "PlongÃ©e sous-marine",
    category: "activite",
    emoji: "ğŸ¤¿",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Snorkeling",
    category: "activite",
    emoji: "ğŸ ",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "PÃªche",
    category: "activite",
    emoji: "ğŸ£",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Ã‰quitation",
    category: "activite",
    emoji: "ğŸ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Go-kart",
    category: "activite",
    emoji: "ğŸï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Karting",
    category: "activite",
    emoji: "ğŸ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Circuit automobile",
    category: "activite",
    emoji: "ğŸ†",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Simulateur de vol",
    category: "activite",
    emoji: "âœˆï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Parachute",
    category: "activite",
    emoji: "ğŸª‚",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Saut Ã  l'Ã©lastique",
    category: "activite",
    emoji: "ğŸ¤¸â€â™‚ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Vol en montgolfiÃ¨re",
    category: "activite",
    emoji: "ğŸˆ",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Vol en hÃ©licoptÃ¨re",
    category: "activite",
    emoji: "ğŸš",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Trampoline park",
    category: "activite",
    emoji: "ğŸ¤¸â€â™€ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Escalade",
    category: "activite",
    emoji: "ğŸ§—â€â™€ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Via ferrata",
    category: "activite",
    emoji: "â›°ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "SpÃ©lÃ©ologie",
    category: "activite",
    emoji: "ğŸ•³ï¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Canyoning",
    category: "activite",
    emoji: "ğŸ’¦",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Rafting",
    category: "activite",
    emoji: "ğŸš£â€â™€ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Surf",
    category: "activite",
    emoji: "ğŸ„â€â™€ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Windsurf",
    category: "activite",
    emoji: "ğŸ„â€â™‚ï¸",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Kitesurf",
    category: "activite",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Parapente",
    category: "activite",
    emoji: "ğŸª‚",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Delta plane",
    category: "activite",
    emoji: "ğŸª‚",
    weight: 1,
    actions: ["maps", "weather"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Course d'orientation",
    category: "activite",
    emoji: "ğŸ§­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Paintball",
    category: "activite",
    emoji: "ğŸ¨",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Airsoft",
    category: "activite",
    emoji: "ğŸ”«",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Tir Ã  l'arc",
    category: "activite",
    emoji: "ğŸ¹",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Stand de tir",
    category: "activite",
    emoji: "ğŸ¯",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Casino",
    category: "activite",
    emoji: "ğŸ°",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Bar lounge",
    category: "activite",
    emoji: "ğŸ¸",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "BoÃ®te de nuit",
    category: "activite",
    emoji: "ğŸ’ƒ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Club privÃ©",
    category: "activite",
    emoji: "ğŸ¥‚",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "SoirÃ©e Ã  thÃ¨me",
    category: "activite",
    emoji: "ğŸ­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Spectacle de magie",
    category: "activite",
    emoji: "ğŸ©",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Cirque",
    category: "activite",
    emoji: "ğŸª",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "OpÃ©ra",
    category: "activite",
    emoji: "ğŸ­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Ballet",
    category: "activite",
    emoji: "ğŸ©°",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "ComÃ©die musicale",
    category: "activite",
    emoji: "ğŸµ",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Stand-up comedy",
    category: "activite",
    emoji: "ğŸ˜‚",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "CafÃ©-thÃ©Ã¢tre",
    category: "activite",
    emoji: "â˜•",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Improvisation thÃ©Ã¢trale",
    category: "activite",
    emoji: "ğŸ­",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Lecture publique",
    category: "activite",
    emoji: "ğŸ“–",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "ConfÃ©rence",
    category: "activite",
    emoji: "ğŸ¤",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
  {
    label: "Atelier crÃ©atif",
    category: "activite",
    emoji: "ğŸ¨",
    weight: 1,
    actions: ["maps"],
    isDefault: true,
    isActive: true,
  },
];

const CONFIG_DEFAULTS: ConfigDefaults = {
  FREE_ROLLS_PER_DAY: 3,
  LIFETIME_PRICE: "5,99 â‚¬",
  PAYWALL_TITLE: "AccÃ¨s Ã  vie ğŸ’•",
  PAYWALL_BULLETS: "Lancers illimitÃ©s|DÃ©s personnalisables|Aucune pub",
  FEATURE_FLAGS: {
    customFaces: true,
    history: true,
    analytics: true,
    sharing: true,
  },
};

async function initializeFirebase(): Promise<FirebaseContext> {
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);
  await signInAnonymously(auth);
  return { app, db, auth };
}

async function migrateDefaultFaces(db: Firestore): Promise<void> {
  const defaultFacesRef = collection(db, "defaultFaces");
  const batch = writeBatch(db);

  DEFAULT_FACES.forEach((face, index) => {
    const faceRef = doc(defaultFacesRef, `default_${index}`);
    batch.set(faceRef, {
      ...face,
      createdAt: serverTimestamp(),
      updatedAt: serverTimestamp(),
    });
  });

  await batch.commit();
  console.log(`âœ… Migrated ${DEFAULT_FACES.length} default faces`);
}

async function initializeAppConfig(db: Firestore): Promise<void> {
  const configRef = doc(db, "appConfig", "main");
  await setDoc(configRef, {
    ...CONFIG_DEFAULTS,
    createdAt: serverTimestamp(),
    updatedAt: serverTimestamp(),
  });
  console.log("âœ… Initialized app config");
}

async function initializeRemoteConfig(db: Firestore): Promise<void> {
  const configRef = collection(db, "remoteConfig");
  const batch = writeBatch(db);

  Object.entries(CONFIG_DEFAULTS).forEach(([key, value]) => {
    const configDocRef = doc(configRef, key);
    batch.set(configDocRef, {
      value,
      type: typeof value === "object" ? "json" : typeof value,
      createdAt: serverTimestamp(),
    });
  });

  await batch.commit();
  console.log("âœ… Initialized remote config");
}

async function createSampleUserData(db: Firestore, auth: Auth): Promise<void> {
  const user = auth.currentUser;
  if (!user) return;

  const userRef = doc(db, "users", user.uid);
  await setDoc(userRef, {
    createdAt: serverTimestamp(),
    hasLifetime: false,
    freeRollsUsedToday: 0,
    freeDayKey: new Date().toISOString().split("T")[0],
    prefs: {
      haptics: true,
      weights: { payer: 0.2, repas: 0.2, activite: 0.6 },
    },
    notificationsEnabled: false,
    notificationPreferences: {
      enabled: true,
      eveningReminders: true,
      milestoneAlerts: true,
      weeklyDigest: false,
      marketingEmails: false,
      reminderTime: "19:00",
    },
    lastSyncAt: serverTimestamp(),
  });
  console.log("âœ… Created sample user data");
}

async function checkFirestoreRules(): Promise<void> {
  console.log("ğŸ“‹ Firestore rules should be deployed separately");
  console.log("   Rules will be deployed via firebase deploy --only firestore:rules");
}

async function createStatistics(db: Firestore): Promise<void> {
  const statsRef = doc(db, "stats", "global");
  await setDoc(statsRef, {
    totalUsers: 0,
    totalRolls: 0,
    totalLifetimePurchases: 0,
    dailyActiveUsers: 0,
    monthlyActiveUsers: 0,
    lastUpdated: serverTimestamp(),
    createdAt: serverTimestamp(),
  });
  console.log("âœ… Created global statistics");
}

async function createFirestoreIndexes(): Promise<void> {
  console.log("ğŸ“‹ Firestore indexes should be created via firebase deploy --only firestore:indexes");
  console.log("   Using the firestore.indexes.json file in the project root");
  console.log("   Indexes will be automatically created when you deploy to Firebase");
}

async function createCategoriesStats(db: Firestore): Promise<void> {
  const stats = {
    payer: DEFAULT_FACES.filter(face => face.category === "payer").length,
    repas: DEFAULT_FACES.filter(face => face.category === "repas").length,
    activite: DEFAULT_FACES.filter(face => face.category === "activite").length,
  };

  const categoryStatsRef = doc(db, "stats", "categories");
  await setDoc(categoryStatsRef, {
    ...stats,
    total: stats.payer + stats.repas + stats.activite,
    createdAt: serverTimestamp(),
  });
  console.log(`âœ… Created category statistics - Payer: ${stats.payer}, Repas: ${stats.repas}, ActivitÃ©: ${stats.activite}`);
}

async function runMigration(): Promise<void> {
  try {
    console.log("ğŸš€ Starting Firebase migration...");
    const { db, auth } = await initializeFirebase();
    console.log("âœ… Firebase initialized");
    
    await migrateDefaultFaces(db);
    await initializeAppConfig(db);
    await initializeRemoteConfig(db);
    await createStatistics(db);
    await createCategoriesStats(db);
    await createFirestoreIndexes();
    await createSampleUserData(db, auth);
    await checkFirestoreRules();
    
    console.log("ğŸ‰ Migration completed successfully!");
    console.log(`ğŸ“Š Total faces migrated: ${DEFAULT_FACES.length}`);
  } catch (error) {
    console.error("âŒ Migration failed:", error);
    process.exit(1);
  }
}

// Point d'entrÃ©e du script
if (require.main === module) {
  runMigration();
}

export { CONFIG_DEFAULTS, DEFAULT_FACES, runMigration };
export type { ConfigDefaults, DiceFace, FirebaseContext };